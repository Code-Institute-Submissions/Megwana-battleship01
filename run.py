"""
Imported randint from random
"""
from random import randint

# create hidden pattern and guess pattern with a range of 5
Hidden_Pattern = [[' ']*5 for x in range(5)]
Guess_Pattern = [[' ']*5 for x in range(5)]

alph_digit = {'A': 0, 'B': 1, 'C': 2, 'D': 3, 'E': 4}


def welcome():
    """
    Opening message to the game that also takes in a name.
    """
    print("Welcome to Battleships")
    NAME = input("Type in a your name and press enter: \n")
    print(f'\nHi {NAME}! Your objective is to locate the enemy ships. The locations are generated by the compute each time, you will have to guess the coordinates of the enemy ships.'
          'One hit equals one sunken ship on the enemy\'s board.')
    print("\n'!' are hit targets, '~' are to show shots that missed the enemy ship."
          'Be aware that the grid is five wide using integers between 1 and 5 and Letters between A and E.')


def create_board(board):
    """
    create battleship board
    """
    print('# A B C D E')
    row_num = 1
    for row in board:
        print("%d|%s|" % (row_num, "|".join(row)))
        row_num += 1


def generate_ships():
    """
    Generate ship locations on the battleship board.
    Ensuring its 1 to 5 and A to E.
    """
    # user to enter row number between 1 and 5
    row = input('Enter a ship row 1 to 5 ').upper()
    while row not in '12345':
        print("Try enter a valid row ")
        row = input('Enter a ship row from 1 to 5 ')
    # user to enter column from A to E
    column = input('Enter a ship column from A to E ').upper()
    while column not in 'ABCDE':
        print("Try enter a valid column ")
        column = input('Enter a ship column from A to E ')
    return int(row)-1, alph_digit[column]


def random_ships(board):
    """
    random ships function allows the ships to be created in random locations on the board. 
    Using the randint imported at the begining. 
    """
    for ship in range(5):
        ship_row, ship_col = randint(0,4), randint(0, 4)
        while board[ship_row][ship_col] == '!':
            ship_row, ship_col = randint(0, 4), randint(0, 4)
        board[ship_row][ship_col] = '!'


def count_sunk_ships(board):
    """
    function for the game to keep a track of how many ships have been hit.
    And to increment count by 1 each time '!' is registered.
    """
    count = 0
    for row in board:
        if column == '!':
            count += 1
    return count

welcome()
generate_ships(Hidden_Pattern)
# generate the ships function with the hidden pattern
turns = 15
while turns > 0:
    print("Enemy Battleship Board")
    create_board(Guess_Pattern)
    row, column = generate_ships()
    if Guess_Pattern[row][column] == '~':
        print("You have already guessed these coordinates, try again")